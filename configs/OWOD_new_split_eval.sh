#!/usr/bin/env bash

set -x

EXP_DIR=exps/OWOD_t1_new_split
PY_ARGS=${@:1}

python -u main_open_world.py \
    --output_dir ${EXP_DIR} --data_root /data/home/scv6140/run/oln_owod-oln_owod/oln_owod-oln_owod/datasets --dataset owod --num_queries 100 --eval_every 5 \
    --PREV_INTRODUCED_CLS 0 --CUR_INTRODUCED_CLS 19 --train_set 't1_train_new_split' --test_set 'test' --num_classes 81 \
    --unmatched_boxes --epochs 45 --top_unk 5 --featdim 1024 --NC_branch --nc_loss_coef 0.1 --nc_epoch 9 \
    --backbone 'dino_resnet50' \
    --resume 'exps/OWOD_t1_new_split/checkpoint0044.pth' --eval \
    ${PY_ARGS}


    python -u main_open_world.py \
  --output_dir ${EXP_DIR} --data_root /data/home/scv6140/run/oln_owod-oln_owod/oln_owod-oln_owod/datasets \
  --dataset owod --num_queries 100 --eval_every 5 \
  --PREV_INTRODUCED_CLS 0 --CUR_INTRODUCED_CLS 19 \
  --train_set 'owdetr_t1_train' --test_set 'owdetr_test' \
  --num_classes 81 \
  --unmatched_boxes --epochs 45 --top_unk 5 --featdim 1024 --NC_branch --nc_loss_coef 0.1 --nc_epoch 9 \
  --backbone 'dino_resnet50' \
  ${PY_ARGS}


EXP_DIR=exps/OWOD_t2_ft_new_split
PY_ARGS=${@:1}

python -u main_open_world.py \
    --output_dir ${EXP_DIR} --dataset owod --num_queries 100 --eval_every 5 \
    --PREV_INTRODUCED_CLS 19 --CUR_INTRODUCED_CLS 21 --train_set 't2_ft_new_split' --test_set 'test' --num_classes 81 \
    --unmatched_boxes --epochs 100 --top_unk 5 --featdim 1024 --NC_branch --nc_loss_coef 0.1 --nc_epoch 9 \
    --backbone 'dino_resnet50' \
    --resume 'exps/OWOD_t2_ft_new_split/checkpoint0099.pth' --eval \
    ${PY_ARGS}